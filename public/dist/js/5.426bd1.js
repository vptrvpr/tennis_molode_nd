(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{28:function(t,e,n){"use strict";n.r(e);var s=n(1),r=n.n(s),a=n(5),i=n.n(a);function u(t,e,n,s,r,a,i){try{var u=t[a](i),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(s,r)}function c(t){return function(){var e=this,n=arguments;return new Promise(function(s,r){var a=t.apply(e,n);function i(t){u(a,s,r,i,c,"next",t)}function c(t){u(a,s,r,i,c,"throw",t)}i(void 0)})}}var o={name:"users",middleware:["admin","auth"],data:function(){return{users:[]}},mounted:function(){this.getUsers()},methods:{getUsers:function(){var t=this;i()({method:"GET",url:"/api/admin/user"}).then(function(e){t.users=e.data})},setActive:function(t){var e=this;i()({method:"POST",url:"/api/admin/user/active/"+t}).then(function(t){e.getUsers(),e.$notif(t)})},setAdmin:function(){var t=c(r.a.mark(function t(e){var n,s;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i()({method:"POST",url:"/api/admin/user/admin/"+e});case 2:n=t.sent,s=n.data,this.getUsers(),this.$notif(s);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),deleteUser:function(){var t=c(r.a.mark(function t(e){var n,s;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i()({method:"POST",url:"/api/admin/user/delete/"+e});case 2:n=t.sent,s=n.data,this.getUsers(),this.$notif(s);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),isAdmin:function(t){var e=!1;return t.roles.map(function(t){1===t.id&&(e=!0)}),e}}},f=n(2),d=Object(f.a)(o,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:" mx-auto vue__page_admin_users w-100",attrs:{shaped:""}},[n("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[n("thead",[n("tr",[n("th",[t._v("Id")]),t._v(" "),n("th",[t._v("Имя")]),t._v(" "),n("th",[t._v("Активный")]),t._v(" "),n("th",[t._v("Управление")])])]),t._v(" "),t._l(t.users,function(e){return n("tbody",[n("tr",[n("td",[t._v(t._s(e.id))]),t._v(" "),n("td",[t.isAdmin(e)?n("i",{staticClass:"fas fa-user-shield"}):t._e(),t._v(t._s(e.name))]),t._v(" "),n("td",[n("v-chip",{staticClass:"ma-2",attrs:{color:e.is_active?t.$green:t.$blue}},[t._v("\n                        "+t._s(e.is_active?"Да":"Нет")+"\n                    ")])],1),t._v(" "),n("td",[n("v-btn",{attrs:{color:t.$green,fab:"","x-small":""},on:{click:function(n){return t.setActive(e.id)}}},[n("i",{staticClass:"fab fa-creative-commons-sa",staticStyle:{"font-size":"17px"}})]),t._v(" "),t.isAdmin(e)?t._e():n("v-btn",{attrs:{color:t.$green,fab:"","x-small":""},on:{click:function(n){return t.setAdmin(e.id)}}},[n("i",{staticClass:"fas fa-user-shield",staticStyle:{"font-size":"17px"}})]),t._v(" "),n("v-btn",{attrs:{color:t.$red,fab:"","x-small":""},on:{click:function(n){return t.deleteUser(e.id)}}},[n("i",{staticClass:"fas fa-user-times",staticStyle:{"font-size":"17px"}})])],1)])])})]},proxy:!0}])})],1)},[],!1,null,"3fcffa72",null);e.default=d.exports}}]);