(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{28:function(e,t,n){"use strict";n.r(t);var i=n(1),a=n.n(i),r=n(5),s=n.n(r);function l(e,t,n,i,a,r,s){try{var l=e[r](s),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(i,a)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(i,a){var r=e.apply(t,n);function s(e){l(r,i,a,s,c,"next",e)}function c(e){l(r,i,a,s,c,"throw",e)}s(void 0)})}}var o={name:"FileLinks",data:function(){return{newFileLink:{file:null,name:""},fileLinks:[]}},mounted:function(){this.getFileLink()},methods:{createFileLink:function(){var e=c(a.a.mark(function e(){var t,n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("file",this.newFileLink.file),t.append("json",JSON.stringify(this.newFileLink)),e.next=5,s()({method:"POST",url:"/api/admin/file-links/store",data:t});case 5:n=e.sent,n.data,this.getFileLink();case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),getFileLink:function(){var e=c(a.a.mark(function e(){var t,n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s()({method:"get",url:"/api/admin/file-links"});case 2:t=e.sent,n=t.data,this.fileLinks=n;case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),deleteFileLink:function(){var e=c(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s()({method:"post",url:"/api/admin/file-links/delete/"+t});case 2:n=e.sent,n.data,this.getFileLink();case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}},u=n(2),f=Object(u.a)(o,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"mx-auto vue__page_file_links w-100",attrs:{shaped:""}},[n("div",{staticClass:"p-3"},[n("h4",{staticClass:"text-center"},[e._v("Новый файл")]),e._v(" "),n("div",{staticClass:"pl-5 pr-5"},[n("v-text-field",{attrs:{color:e.$blue,label:"Имя",name:"name"},model:{value:e.newFileLink.name,callback:function(t){e.$set(e.newFileLink,"name",t)},expression:"newFileLink.name"}})],1),e._v(" "),n("div",{staticClass:"pl-5 pr-5"},[n("v-file-input",{attrs:{color:e.$blue,label:"Файл",name:"file"},model:{value:e.newFileLink.file,callback:function(t){e.$set(e.newFileLink,"file",t)},expression:"newFileLink.file"}})],1),e._v(" "),n("div",{staticClass:"pl-5 pr-5"},[n("v-btn",{attrs:{color:e.$blue},on:{click:e.createFileLink}},[e._v("Создать")])],1)]),e._v(" "),n("div",{staticClass:"p-3 mt-2"},[n("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[n("thead",[n("tr",[n("th",[e._v("Id")]),e._v(" "),n("th",[e._v("Имя")]),e._v(" "),n("th",[e._v("Файл")]),e._v(" "),n("th",[e._v("Управление")])])]),e._v(" "),e._l(e.fileLinks,function(t){return n("tbody",{staticClass:"p-2"},[n("td",[e._v(e._s(t.id))]),e._v(" "),n("td",[e._v(e._s(t.name))]),e._v(" "),n("td",[n("a",{attrs:{target:"_blank",href:"/storage/file-links/"+t.file}},[e._v(e._s(t.name))])]),e._v(" "),n("td",[n("v-btn",{attrs:{color:e.$red},on:{click:function(n){return e.deleteFileLink(t.id)}}},[e._v("Удалить")])],1)])})]},proxy:!0}])})],1)])},[],!1,null,"4a7abad4",null);t.default=f.exports}}]);